function create_comment(e){console.log(e);var t=$("form[id=indexcommentform_"+e+"]").serialize();defaultReturnFunction(t);$("form[id=indexcommentform_"+e+"] input[name='comment']").val();$.ajax({url:"/create_comment/",type:"POST",data:$("form[id=indexcommentform_"+e+"]").serialize(),success:function(t){var n=t.result1,i=t.result2,a=t.user_dictionary_data;console.log(n),n=JSON.parse(n),i=JSON.parse(i),a=JSON.parse(a),jQuery.each(n,function(e,t){t.username=i[e].username});var s,o="",r="";a.logger_like&&2==a.liker_count?(s-=3,s=isNaN(s)?0:s,r+='<hr><p class="like"><i class="fa fa-thumbs-up" aria-hidden="true"></i><b> you, '+a.postliker1+" ,"+a.postliker2+"and </b>"+s+" others like this </p>"):2==a.liker_count?(s-=2,s=isNaN(s)?0:s,r+='<hr><p class="like"><i class="fa fa-thumbs-up" aria-hidden="true"></i><b>'+a.postliker1+" ,"+a.postliker2+"and  </b>"+s+" others like this </p>"):a.logger_like&&1==a.liker_count?(s-=2,s=isNaN(s)?0:s,r+='<hr><p class="like"><i class="fa fa-thumbs-up" aria-hidden="true"></i><b> you ,'+a.postliker1+" and </b>"+s+" others like this </p>"):1==a.liker_count?(s-=1,s=isNaN(s)?0:s,r+='<hr><p class="like"><i class="fa fa-thumbs-up" aria-hidden="true"></i><b>'+a.postliker1+" and </b>"+s+" others like this </p>"):a.logger_like?(s-=1,r+='<hr><p class="like"><i class="fa fa-thumbs-up" aria-hidden="true"></i><b> you and </b>'+(s=isNaN(s)?0:s)+" others like this </p>"):r+='<hr><p class="like"><i class="fa fa-thumbs-up" aria-hidden="true"></i>'+a.actual_likes_count+" others like this </p>",a.logger_like?o+='<button class="btn btn-custom red-tooltip" href="#" name="likeButton"><i class="fa fa-thumbs-down"aria-hidden="true"></i> Unlike</button><span> '+a.actual_likes_count+'&nbsp;</span><button class="btn btn-custom red-tooltip" href="#"><i class="glyphicon glyphicon-comment"aria-hidden="true"></i> Comment</button><span> '+a.comments_count+'&nbsp;</span><button class="btn btn-custom red-tooltip" href="#"><i class="fa fa-star" aria-hidden="true"></i> Favourite</button><span>123kFV.NOTIMPLEMENTED &nbsp;</span>':o+='<button class="btn btn-custom red-tooltip" href="#" name="likeButton"><i class="fa fa-thumbs-up"aria-hidden="true"></i> Like</button><span> '+a.actual_likes_count+' &nbsp;</span><button class="btn btn-custom red-tooltip" href="#"><i class="glyphicon glyphicon-comment"aria-hidden="true"></i> Comment</button><span> '+a.comments_count+' &nbsp;</span><button class="btn btn-custom red-tooltip" href="#"><i class="fa fa-star" aria-hidden="true"></i> Favourite</button><span>123kFV.NOTIMPLEMENTED &nbsp;</span>';var l="";l+=r,jQuery.each(n,function(e,t){var n=t.fields.comment_added_date;n=new Date(n);new Date;(i=new Array)[0]="Jan.",i[1]="Feb.",i[2]="March",i[3]="April",i[4]="May",i[5]="June",i[6]="July",i[7]="Aug.",i[8]="Sep.",i[9]="Oct.",i[10]="Nov.",i[11]="Dec.";var i=i[n.getMonth()],a=n.getDate(),s=n.getFullYear(),o=n.getHours(),r=n.getMinutes(),u=o>=12?"p.m.":"a.m.",c="";c+=i+" "+a+", "+s+", "+((o=(o%=12)||12)+":"+(r=r<10?"0"+r:r)+" "+u),l+='<div class="comment"><img src="/static/img/viewer02.jpg"><p><a href=""><b>'+t.username+"</b></a>&nbsp;"+t.fields.comment_text+"</p><i>"+c+'</i><p><a href="javascript:void(0)">Like</a> &nbsp;<button class="collapse-custom" data-toggle="collapse" data-target="#reply"'+t.fields.pk+'">Reply</button></p></div>',t.fields.pk});var u="";l+=u+='<br><form id="indexcommentform_"'+e+'NaNaction="javascript:void(0);"onsubmit="return create_comment("'+e+'");"><input type="hidden" name="csrfmiddlewaretoken" value="YlbPYHWU4sywBmbWMy6Gn4eiuRv24GgC4vfcLKxUfwmmIFkL6WZe6i8jc6odOn8J" /><div class="comment"><img src="/static/img/viewer02.jpg"><input type="text" class="form-control" placeholder="write a comment..." name="comment" id="comment-text"/><input type="hidden" name="logger_id" value="1"/><input type="hidden" name="post_id" value="1"/></div></form><br>',jQuery("div[id=comment_container_"+e+"]").html(l),jQuery("form[id=form_user_option"+e+"]").html(o),jQuery("form[id=indexcommentform_"+e+"]").html(u)},error:function(e,t,n){$("#results").html("<div class='alert-box alert radius' data-alert>Oops! We have encountered an error: "+t+" <a href='#' class='close'>&times;</a></div>"),console.log(e.status+": "+e.responseText)}})}function logger_option(e,t){console.log(e),console.log(t),$.ajax({url:"/logger_option/",type:"POST",data:{post_number:e,user:t},success:function(t){var n=t,i="",a="",s=n.actual_likes_count;n.logger_like&&2===n.actual_likes_count?(s-=2,s=isNaN(s)?"":s,n.postliker2=null===n.postliker2?"":n.postliker2,n.postliker1=null===n.postliker1?"":n.postliker1,a+='<hr><p class="like"><i class="fa fa-thumbs-up" aria-hidden="true"></i><b> you, '+n.postliker1+" ,"+n.postliker2+"and </b>"+s+" others like this </p>"):2!=n.actual_likes_count||n.logger_like?n.logger_like&&1===n.actual_likes_count?(s-=1,s=isNaN(s)?"":s,n.postliker1=null===n.postliker1?"":n.postliker1,a+='<hr><p class="like"><i class="fa fa-thumbs-up" aria-hidden="true"></i><b> you ,'+n.postliker1+" and </b>"+s+" others like this </p>"):n.logger_like||1!=n.actual_likes_count?n.logger_like&&1===n.actual_likes_count?(s-=1,a+='<hr><p class="like"><i class="fa fa-thumbs-up" aria-hidden="true"></i><b> you and </b>'+(s=isNaN(s)?"":s)+" others like this </p>"):a+='<hr><p class="like"><i class="fa fa-thumbs-up" aria-hidden="true"></i>'+n.actual_likes_count+" others like this </p>":(s-=1,s=isNaN(s)?"":s,n.postliker1=null===n.postliker1?"":n.postliker1,a+='<hr><p class="like"><i class="fa fa-thumbs-up" aria-hidden="true"></i><b>'+n.postliker1+" and </b>"+s+" others like this </p>"):(s-=2,s=isNaN(s)?"":s,n.postliker2=null===n.postliker2?"":n.postliker2,n.postliker1=null===n.postliker1?"":n.postliker1,a+='<hr><p class="like"><i class="fa fa-thumbs-up" aria-hidden="true"></i><b>'+n.postliker1+" ,"+n.postliker2+"and  </b>"+s+" others like this </p>"),n.logger_like?i+='<button class="btn btn-danger" href="#" name="likeButton"><i class="fa fa-thumbs-down"aria-hidden="true"></i> Unlike</button><span> '+n.actual_likes_count+'&nbsp;</span><button onclick="return false" class="btn btn-success"><i class="glyphicon glyphicon-comment"aria-hidden="true"></i> Comment</button><span> '+n.comments_count+'&nbsp;</span><button onclick="return false" class="btn btn-info" ><i class="fa fa-star" aria-hidden="true"></i> Favourite</button><span>123kFV.NOTIMPLEMENTED &nbsp;</span>':i+='<button class="btn btn-danger" href="#" name="likeButton"><i class="fa fa-thumbs-up"aria-hidden="true"></i> Like</button><span> '+n.actual_likes_count+' &nbsp;</span><button onclick="return false" class="btn btn-success"><i class="glyphicon glyphicon-comment"aria-hidden="true"></i> Comment</button><span> '+n.comments_count+' &nbsp;</span><button onclick="return false" class="btn btn-info" ><i class="fa fa-star" aria-hidden="true"></i> Favourite</button><span>123kFV.NOTIMPLEMENTED &nbsp;</span>',i+=a,$("#RemoveAjaxLike"+e).remove(),jQuery("form[id=form_user_option"+e+"]").html(i),console.log("At Success 592")},error:function(e,t,n){$("#results").html("<div class='alert-box alert radius' data-alert>Oops! We have encountered an error: "+t+" <a href='#' class='close'>&times;</a></div>")}})}function defaultReturnFunction(e){}function create_comment(e){console.log(e);var t=$("form[id=indexcommentform_"+e+"]").serialize();defaultReturnFunction(t);$("form[id=indexcommentform_"+e+"] input[name='comment']").val();$.ajax({url:"/create_comment/",type:"POST",data:$("form[id=indexcommentform_"+e+"]").serialize(),success:function(t){var n=t.result1,i=t.result2,a=t.user_dictionary_data;console.log(n),n=JSON.parse(n),i=JSON.parse(i),a=JSON.parse(a),jQuery.each(n,function(e,t){t.username=i[e].username});var s,o="",r="";a.logger_like&&2==a.liker_count?(s-=3,s=isNaN(s)?0:s,r+='<hr><p class="like"><i class="fa fa-thumbs-up" aria-hidden="true"></i><b> you, '+a.postliker1+" ,"+a.postliker2+"and </b>"+s+" others like this </p>"):2==a.liker_count?(s-=2,s=isNaN(s)?0:s,r+='<hr><p class="like"><i class="fa fa-thumbs-up" aria-hidden="true"></i><b>'+a.postliker1+" ,"+a.postliker2+"and  </b>"+s+" others like this </p>"):a.logger_like&&1==a.liker_count?(s-=2,s=isNaN(s)?0:s,r+='<hr><p class="like"><i class="fa fa-thumbs-up" aria-hidden="true"></i><b> you ,'+a.postliker1+" and </b>"+s+" others like this </p>"):1==a.liker_count?(s-=1,s=isNaN(s)?0:s,r+='<hr><p class="like"><i class="fa fa-thumbs-up" aria-hidden="true"></i><b>'+a.postliker1+" and </b>"+s+" others like this </p>"):a.logger_like?(s-=1,r+='<hr><p class="like"><i class="fa fa-thumbs-up" aria-hidden="true"></i><b> you and </b>'+(s=isNaN(s)?0:s)+" others like this </p>"):r+='<hr><p class="like"><i class="fa fa-thumbs-up" aria-hidden="true"></i>'+a.actual_likes_count+" others like this </p>",a.logger_like?o+='<button class="btn btn-custom red-tooltip" href="#" name="likeButton"><i class="fa fa-thumbs-down"aria-hidden="true"></i> Unlike</button><span> '+a.actual_likes_count+'&nbsp;</span><button class="btn btn-custom red-tooltip" href="#"><i class="glyphicon glyphicon-comment"aria-hidden="true"></i> Comment</button><span> '+a.comments_count+'&nbsp;</span><button class="btn btn-custom red-tooltip" href="#"><i class="fa fa-star" aria-hidden="true"></i> Favourite</button><span>123kFV.NOTIMPLEMENTED &nbsp;</span>':o+='<button class="btn btn-custom red-tooltip" href="#" name="likeButton"><i class="fa fa-thumbs-up"aria-hidden="true"></i> Like</button><span> '+a.actual_likes_count+' &nbsp;</span><button class="btn btn-custom red-tooltip" href="#"><i class="glyphicon glyphicon-comment"aria-hidden="true"></i> Comment</button><span> '+a.comments_count+' &nbsp;</span><button class="btn btn-custom red-tooltip" href="#"><i class="fa fa-star" aria-hidden="true"></i> Favourite</button><span>123kFV.NOTIMPLEMENTED &nbsp;</span>';var l="";l+=r,jQuery.each(n,function(e,t){var n=t.fields.comment_added_date;n=new Date(n);new Date;(i=new Array)[0]="Jan.",i[1]="Feb.",i[2]="March",i[3]="April",i[4]="May",i[5]="June",i[6]="July",i[7]="Aug.",i[8]="Sep.",i[9]="Oct.",i[10]="Nov.",i[11]="Dec.";var i=i[n.getMonth()],a=n.getDate(),s=n.getFullYear(),o=n.getHours(),r=n.getMinutes(),u=o>=12?"p.m.":"a.m.",c="";c+=i+" "+a+", "+s+", "+((o=(o%=12)||12)+":"+(r=r<10?"0"+r:r)+" "+u),l+='<div class="comment"><img src="/static/img/viewer02.jpg"><p><a href=""><b>'+t.username+"</b></a>&nbsp;"+t.fields.comment_text+"</p><i>"+c+'</i><p><a href="javascript:void(0)">Like</a> &nbsp;<button class="collapse-custom" data-toggle="collapse" data-target="#reply"'+t.fields.pk+'">Reply</button></p></div>',t.fields.pk});var u="";l+=u+='<br><form id="indexcommentform_"'+e+'NaNaction="javascript:void(0);"onsubmit="return create_comment("'+e+'");"><input type="hidden" name="csrfmiddlewaretoken" value="YlbPYHWU4sywBmbWMy6Gn4eiuRv24GgC4vfcLKxUfwmmIFkL6WZe6i8jc6odOn8J" /><div class="comment"><img src="/static/img/viewer02.jpg"><input type="text" class="form-control" placeholder="write a comment..." name="comment" id="comment-text"/><input type="hidden" name="logger_id" value="1"/><input type="hidden" name="post_id" value="1"/></div></form><br>',jQuery("div[id=comment_container_"+e+"]").html(l),jQuery("form[id=form_user_option"+e+"]").html(o),jQuery("form[id=indexcommentform_"+e+"]").html(u)},error:function(e,t,n){$("#results").html("<div class='alert-box alert radius' data-alert>Oops! We have encountered an error: "+t+" <a href='#' class='close'>&times;</a></div>"),console.log(e.status+": "+e.responseText)}})}function logger_option(e,t){console.log(e),console.log(t),$.ajax({url:"/logger_option/",type:"POST",data:{post_number:e,user:t},success:function(t){var n=t,i="",a="",s=n.actual_likes_count;n.logger_like&&2===n.actual_likes_count?(s-=2,s=isNaN(s)?"":s,n.postliker2=null===n.postliker2?"":n.postliker2,n.postliker1=null===n.postliker1?"":n.postliker1,a+='<hr><p class="like"><i class="fa fa-thumbs-up" aria-hidden="true"></i><b> you, '+n.postliker1+" ,"+n.postliker2+"and </b>"+s+" others like this </p>"):2!=n.actual_likes_count||n.logger_like?n.logger_like&&1===n.actual_likes_count?(s-=1,s=isNaN(s)?"":s,n.postliker1=null===n.postliker1?"":n.postliker1,a+='<hr><p class="like"><i class="fa fa-thumbs-up" aria-hidden="true"></i><b> you ,'+n.postliker1+" and </b>"+s+" others like this </p>"):n.logger_like||1!=n.actual_likes_count?n.logger_like&&1===n.actual_likes_count?(s-=1,a+='<hr><p class="like"><i class="fa fa-thumbs-up" aria-hidden="true"></i><b> you and </b>'+(s=isNaN(s)?"":s)+" others like this </p>"):a+='<hr><p class="like"><i class="fa fa-thumbs-up" aria-hidden="true"></i>'+n.actual_likes_count+" others like this </p>":(s-=1,s=isNaN(s)?"":s,n.postliker1=null===n.postliker1?"":n.postliker1,a+='<hr><p class="like"><i class="fa fa-thumbs-up" aria-hidden="true"></i><b>'+n.postliker1+" and </b>"+s+" others like this </p>"):(s-=2,s=isNaN(s)?"":s,n.postliker2=null===n.postliker2?"":n.postliker2,n.postliker1=null===n.postliker1?"":n.postliker1,a+='<hr><p class="like"><i class="fa fa-thumbs-up" aria-hidden="true"></i><b>'+n.postliker1+" ,"+n.postliker2+"and  </b>"+s+" others like this </p>"),n.logger_like?i+='<button class="btn btn-danger" href="#" name="likeButton"><i class="fa fa-thumbs-down"aria-hidden="true"></i> Unlike</button><span> '+n.actual_likes_count+'&nbsp;</span><button onclick="return false" class="btn btn-success"><i class="glyphicon glyphicon-comment"aria-hidden="true"></i> Comment</button><span> '+n.comments_count+'&nbsp;</span><button onclick="return false" class="btn btn-info" ><i class="fa fa-star" aria-hidden="true"></i> Favourite</button><span>123kFV.NOTIMPLEMENTED &nbsp;</span>':i+='<button class="btn btn-danger" href="#" name="likeButton"><i class="fa fa-thumbs-up"aria-hidden="true"></i> Like</button><span> '+n.actual_likes_count+' &nbsp;</span><button onclick="return false" class="btn btn-success"><i class="glyphicon glyphicon-comment"aria-hidden="true"></i> Comment</button><span> '+n.comments_count+' &nbsp;</span><button onclick="return false" class="btn btn-info" ><i class="fa fa-star" aria-hidden="true"></i> Favourite</button><span>123kFV.NOTIMPLEMENTED &nbsp;</span>',i+=a,$("#RemoveAjaxLike"+e).remove(),jQuery("form[id=form_user_option"+e+"]").html(i),console.log("At Success 592")},error:function(e,t,n){$("#results").html("<div class='alert-box alert radius' data-alert>Oops! We have encountered an error: "+t+" <a href='#' class='close'>&times;</a></div>")}})}function defaultReturnFunction(e){}$(document).ready(function(){$("#myBtn").click(function(){$("#myModal").modal()}),$("#myBtn2").click(function(){$("#myModal2").modal()})}),$(function(){!function(e){var t=null;if(document.cookie&&""!=document.cookie)for(var n=document.cookie.split(";"),i=0;i<n.length;i++){var a=jQuery.trim(n[i]);if(a.substring(0,e.length+1)==e+"="){t=decodeURIComponent(a.substring(e.length+1));break}}}("csrftoken");$.ajaxSetup({beforeSend:function(e,t){/^http:.*/.test(t.url)||/^https:.*/.test(t.url)||e.setRequestHeader("X-CSRFToken",function(e){var t=null;if(document.cookie&&""!=document.cookie)for(var n=document.cookie.split(";"),i=0;i<n.length;i++){var a=jQuery.trim(n[i]);if(a.substring(0,e.length+1)==e+"="){t=decodeURIComponent(a.substring(e.length+1));break}}return t}("csrftoken"))}})}),$(document).ready(function(){$("#myBtn").click(function(){$("#myModal").modal()}),$("#myBtn2").click(function(){$("#myModal2").modal()})}),$(function(){!function(e){var t=null;if(document.cookie&&""!=document.cookie)for(var n=document.cookie.split(";"),i=0;i<n.length;i++){var a=jQuery.trim(n[i]);if(a.substring(0,e.length+1)==e+"="){t=decodeURIComponent(a.substring(e.length+1));break}}}("csrftoken");$.ajaxSetup({beforeSend:function(e,t){/^http:.*/.test(t.url)||/^https:.*/.test(t.url)||e.setRequestHeader("X-CSRFToken",function(e){var t=null;if(document.cookie&&""!=document.cookie)for(var n=document.cookie.split(";"),i=0;i<n.length;i++){var a=jQuery.trim(n[i]);if(a.substring(0,e.length+1)==e+"="){t=decodeURIComponent(a.substring(e.length+1));break}}return t}("csrftoken"))}})}),jQuery.fn.deserialize=function(e){var t=this,n={},i=function(e){return t.is("form")?t.find(e):t.filter(e)};return jQuery.each(e.split("&"),function(){var e=this.split("="),t=decodeURIComponent(e[0]),i=e.length>1?decodeURIComponent(e[1]):null;t in n||(n[t]=[]),n[t].push(i)}),jQuery.each(n,function(e,t){$(document).ready(function(){$("#myBtn").click(function(){$("#myModal").modal()}),$("#myBtn2").click(function(){$("#myModal2").modal()})}),$(function(){!function(e){var t=null;if(document.cookie&&""!=document.cookie)for(var n=document.cookie.split(";"),i=0;i<n.length;i++){var a=jQuery.trim(n[i]);if(a.substring(0,e.length+1)==e+"="){t=decodeURIComponent(a.substring(e.length+1));break}}}("csrftoken");$.ajaxSetup({beforeSend:function(e,t){/^http:.*/.test(t.url)||/^https:.*/.test(t.url)||e.setRequestHeader("X-CSRFToken",function(e){var t=null;if(document.cookie&&""!=document.cookie)for(var n=document.cookie.split(";"),i=0;i<n.length;i++){var a=jQuery.trim(n[i]);if(a.substring(0,e.length+1)==e+"="){t=decodeURIComponent(a.substring(e.length+1));break}}return t}("csrftoken"))}})}),$(document).ready(function(){$("#myBtn").click(function(){$("#myModal").modal()}),$("#myBtn2").click(function(){$("#myModal2").modal()})}),$(function(){!function(e){var t=null;if(document.cookie&&""!=document.cookie)for(var n=document.cookie.split(";"),i=0;i<n.length;i++){var a=jQuery.trim(n[i]);if(a.substring(0,e.length+1)==e+"="){t=decodeURIComponent(a.substring(e.length+1));break}}}("csrftoken");$.ajaxSetup({beforeSend:function(e,t){/^http:.*/.test(t.url)||/^https:.*/.test(t.url)||e.setRequestHeader("X-CSRFToken",function(e){var t=null;if(document.cookie&&""!=document.cookie)for(var n=document.cookie.split(";"),i=0;i<n.length;i++){var a=jQuery.trim(n[i]);if(a.substring(0,e.length+1)==e+"="){t=decodeURIComponent(a.substring(e.length+1));break}}return t}("csrftoken"))}})}),jQuery.fn.deserialize=function(e){var t=this,n={},i=function(e){return t.is("form")?t.find(e):t.filter(e)};return jQuery.each(e.split("&"),function(){var e=this.split("="),t=decodeURIComponent(e[0]),i=e.length>1?decodeURIComponent(e[1]):null;t in n||(n[t]=[]),n[t].push(i)}),jQuery.each(n,function(e,t){i("[name='"+e+"']").val(t)}),i("input:text,select,textarea").each(function(){jQuery(this).attr("name")in n||jQuery(this).val("")}),i("input:checkbox:checked,input:radio:checked").each(function(){jQuery(this).attr("name")in n||(this.checked=!1)}),this},jQuery.fn.deserialize=function(e){var t=this,n={},i=function(e){return t.is("form")?t.find(e):t.filter(e)};return jQuery.each(e.split("&"),function(){var e=this.split("="),t=decodeURIComponent(e[0]),i=e.length>1?decodeURIComponent(e[1]):null;t in n||(n[t]=[]),n[t].push(i)}),jQuery.each(n,function(e,t){i("[name='"+e+"']").val(t)}),i("input:text,select,textarea").each(function(){jQuery(this).attr("name")in n||jQuery(this).val("")}),i("input:checkbox:checked,input:radio:checked").each(function(){jQuery(this).attr("name")in n||(this.checked=!1)}),this},i("[name='"+e+"']").val(t)}),i("input:text,select,textarea").each(function(){jQuery(this).attr("name")in n||jQuery(this).val("")}),i("input:checkbox:checked,input:radio:checked").each(function(){jQuery(this).attr("name")in n||(this.checked=!1)}),this},jQuery.fn.deserialize=function(e){var t=this,n={},i=function(e){return t.is("form")?t.find(e):t.filter(e)};return jQuery.each(e.split("&"),function(){var e=this.split("="),t=decodeURIComponent(e[0]),i=e.length>1?decodeURIComponent(e[1]):null;t in n||(n[t]=[]),n[t].push(i)}),jQuery.each(n,function(e,t){i("[name='"+e+"']").val(t)}),i("input:text,select,textarea").each(function(){jQuery(this).attr("name")in n||jQuery(this).val("")}),i("input:checkbox:checked,input:radio:checked").each(function(){jQuery(this).attr("name")in n||(this.checked=!1)}),this};