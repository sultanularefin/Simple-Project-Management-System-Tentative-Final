@model Smpl_prjct_mng_mnt_tol.EF.ProjectView
@using Smpl_prjct_mng_mnt_tol.EF

@*performs  add and home functionalities for project mngr.*@

@{
    ViewBag.Title = "Team Lead";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<style>
    .btn {
        /*margin-left:7px;
        margin-right:7px;*/
        border-left: 10px;
    }

    .topbuttonsDiv {
        margin-bottom: 40px;
    }
</style>



@if (ViewBag.message != null)
{
    <h1 style="color:crimson">@ViewBag.Message</h1>
}
@if (Session["logger"] != null)
{

    LoginViewModel a = new LoginViewModel();
    a = (LoginViewModel)Session["logger"];

    List<ProjectView> yourProjects = new List<ProjectView>();
    yourProjects = ViewBag.YourProjects;

    if (a.designationName != null)
    {
        if (a.designationName == "Project Manager")
        {

            <div style="float:right" class="topbuttonsDiv">
                <button>
                    @Html.ActionLink("Project Manager Home", "ProjectManagerHome", "Home", null, new { @class = "btn btn-success" })
                </button>
                <button> @Html.ActionLink("Add Project", "AddProject", "Home", null, new { @class = "btn btn-primary" })</button>

                <button>
                    @Html.ActionLink("Update Project", "UpdateProject", "Home", null, new { @class = "btn btn-danger" })
                </button>
                <button>
                    @Html.ActionLink("Assign Employee", "AssignEmployee", "Home", null, new { @class = "btn btn-info" })
                </button>

                <button>
                    @Html.ActionLink("Add New Task", "AddTask", "Task", null, new { @class = "btn btn-success" })
                </button>

                <button>
                    @Html.ActionLink("Add Comment", "AddComment", "Task", null, new { @class = "btn btn-danger" })
                </button>


            </div>
        }

        else if (a.designationName == "Team Lead")
        {  <div style="float:right" class="topbuttonsDiv">
                <button>
                    @Html.ActionLink("Add New Task", "AddTask", "Task", null, new { @class = "btn btn-success" })
                </button>

                <button>
                    @Html.ActionLink("Add Comment", "AddComment", "Task", null, new { @class = "btn btn-danger" })
                </button>


            </div>
        }

        else if (a.designationName == "Developer")
        {
            <div style="float:right" class="topbuttonsDiv">
                <button>
                    @Html.ActionLink("Add New Task", "AddTask", "Task", null, new { @class = "btn btn-success" })
                </button>

                <button>
                    @Html.ActionLink("Add Comment", "AddComment", "Task", null, new { @class = "btn btn-danger" })
                </button>


            </div>
        }
        else if (a.designationName == "QA Engineer")
        {
            <div style="float:right" class="topbuttonsDiv">
                <button>
                    @Html.ActionLink("Add New Task", "AddTask", "Task", null, new { @class = "btn btn-success" })
                </button>

                <button>
                    @Html.ActionLink("Add Comment", "AddComment", "Task", null, new { @class = "btn btn-danger" })
                </button>


            </div>
        }
        else if (a.designationName == "UX Engineer")
        {
            <div style="float:right" class="topbuttonsDiv">
                <button>
                    @Html.ActionLink("Add New Task", "AddTask", "Task", null, new { @class = "btn btn-success" })
                </button>

                <button>
                    @Html.ActionLink("Add Comment", "AddComment", "Task", null, new { @class = "btn btn-danger" })
                </button>


            </div>
        }

        else
        { <div style="float:right" class="topbuttonsDiv">
                <h1> You are not authorized,please login </h1>
            </div>
        }


        <div class="clearfix"></div>

        <br />

        <table class="table">
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.name)
                </th>

                <th>
                    @Html.DisplayNameFor(model => model.shortName)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.statusname)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.memberCount)
                </th>

                <th>
                    @Html.DisplayNameFor(model => model.taskCount)
                </th>

            </tr>

            @if (yourProjects != null)
            {

                foreach (ProjectView aProjectView in yourProjects)

                {
                    <tr>
                        <td>
                            <a href="@Url.Action("ProjectDetail", new { id = aProjectView.id })">
                                <span class="glyphicon-glyphicon-option-vertical "></span>&nbsp;
                           @Html.DisplayFor(modelItem => aProjectView.name)
                            </a>
                            
                        </td>

                        <td>
                            @Html.DisplayFor(modelItem => aProjectView.shortName)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => aProjectView.statusname)
                        </td>

                        <td>
                            @Html.DisplayFor(modelItem => aProjectView.memberCount)
                        </td>

                        <td>
                            @Html.DisplayFor(modelItem => aProjectView.taskCount)
                        </td>
                        @*<td>

                            <a href="@Url.Action("ProjectDetail", new { id = aProjectView.id })">
                                <span class="glyphicon-glyphicon-option-vertical "></span>&nbsp;Add File
                            </a>
                        </td>*@


                    </tr>
                }


            }
        </table>



    }
}
else


{
    <h1> You are not authorized,please login </h1>

}



